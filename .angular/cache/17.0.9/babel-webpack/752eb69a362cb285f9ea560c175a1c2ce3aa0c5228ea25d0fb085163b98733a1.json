{"ast":null,"code":"import { ApiServiceService } from '../service/api-service.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/api-service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nfunction CourierGeneratePayoutComponent_div_35_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"mat-card-content\", 21)(2, \"div\", 22)(3, \"p\")(4, \"b\");\n    i0.ɵɵtext(5, \"Order Code:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\")(8, \"b\");\n    i0.ɵɵtext(9, \"DeliveryType:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\")(12, \"b\");\n    i0.ɵɵtext(13, \"Date & Time: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"p\")(18, \"b\");\n    i0.ɵɵtext(19, \"Selected Package:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\")(22, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CourierGeneratePayoutComponent_div_35_div_1_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const items_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.moredetails(items_r3));\n    });\n    i0.ɵɵtext(23, \" View Details\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const items_r3 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", items_r3 == null ? null : items_r3.orderCode, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", items_r3 == null ? null : items_r3.deliveryType, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(15, 5, items_r3 == null ? null : items_r3.deliveredAt, \"dd-mm-yyyy\"), \" \", i0.ɵɵpipeBind2(16, 8, items_r3 == null ? null : items_r3.deliveredAt, \"mediumTime\"), \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", items_r3 == null ? null : items_r3.selectedPackage, \"\");\n  }\n}\nfunction CourierGeneratePayoutComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, CourierGeneratePayoutComponent_div_35_div_1_Template, 25, 11, \"div\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.completetripdetails);\n  }\n}\nfunction CourierGeneratePayoutComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 24);\n    i0.ɵɵtext(2, \" No Data Found\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CourierGeneratePayoutComponent {\n  constructor(apiService, router, activatedRoute, formBuilder) {\n    this.apiService = apiService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.formBuilder = formBuilder;\n    this.totalCount = 0;\n    this.tripidarray = [];\n    this.paid = false;\n    this.searchtripDateForm = this.formBuilder.group({\n      fromdate: ['', [Validators.required]],\n      todate: ['', [Validators.required]]\n    });\n  }\n  ngOnInit() {\n    this.activatedRoute.params.subscribe(params => {\n      this.id = params.id;\n    });\n    this.userId = localStorage.getItem('useridA') ? JSON.parse(localStorage.getItem('useridA') || '') : '';\n    this.getCompletedTripList();\n  }\n  getCompletedTripList() {\n    this.paymentMode = 'cash on delivery,cash on pickup';\n    this.paymentStatus = 'CODcompleted,COPcompleted';\n    this.fromDate = this.searchtripDateForm.controls['fromdate'].value;\n    this.toDate = this.searchtripDateForm.controls['todate'].value;\n    // console.log(this.fromDate);\n    // console.log(this.toDate);\n    this.apiService.getCompletedTripList(this.id, this.paymentMode, this.paymentStatus, this.fromDate, this.toDate).then(res => {\n      this.completetripdetails = res?.data?.data ? res.data.data : [];\n      this.totalCount = res.data.totalCount;\n      console.log(res.data.data);\n      for (let i of res.data.data) {\n        var items = i._id;\n        this.tripidarray.push(items);\n      }\n      console.log(this.tripidarray);\n      this.totalAmount = this.completetripdetails.reduce((accumulator, currentItem) => {\n        return accumulator + currentItem.amountDetails.finalAmount;\n      }, 0);\n      console.log(this.totalAmount);\n      console.log(this.completetripdetails?.length);\n    }).catch(err => {});\n  }\n  moredetails(i) {\n    this.router.navigate(['/trip_details', {\n      id: i?._id\n    }]);\n  }\n  updatePaymentStatus() {\n    let payload = {\n      orderIds: this.tripidarray,\n      noOfOrders: this.totalCount,\n      totalAmount: this.totalAmount,\n      paidById: this.id,\n      receivedById: this.userId,\n      paid: true\n    };\n    this.apiService.updatePaymentStatus(payload).subscribe(response => {\n      this.paymentstatus = response.data;\n      console.log(this.paymentstatus);\n      if (response.code == 200) {\n        console.log('success');\n        this.getCompletedTripList();\n      } else {}\n    }), err => {};\n  }\n  static #_ = this.ɵfac = function CourierGeneratePayoutComponent_Factory(t) {\n    return new (t || CourierGeneratePayoutComponent)(i0.ɵɵdirectiveInject(i1.ApiServiceService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CourierGeneratePayoutComponent,\n    selectors: [[\"app-courier-generate-payout\"]],\n    decls: 37,\n    vars: 4,\n    consts: [[\"fxLayout\", \"row wrap\"], [\"fxFlex.gt-sm\", \"100\", \"fxFlex\", \"100\"], [1, \"\"], [1, \"col-lg-8\"], [1, \"my-3\", \"m-0\"], [1, \"innercard\", \"p-2\"], [1, \"row\"], [1, \"col-sm-12\", \"col-md-2\", \"col-lg-3\"], [1, \"col-6\", \"col-md-12\", \"col-lg-12\", \"colheader\"], [1, \"payoutheading\"], [1, \"col-6\", \"col-md-12\", \"col-lg-12\"], [1, \"col-sm-12\", \"col-md-2\", \"col-lg-2\"], [1, \"col-sm-12\", \"col-md-2\", \"col-lg-4\"], [1, \"col-sm-12\", \"col-md-2\", \"col-lg-3\", \"viewbtn\"], [1, \"p-2\"], [\"mat-raised-button\", \"\", \"mat-flat-button\", \"\", \"color\", \"primary\", 1, \"view\", 3, \"click\"], [\"class\", \"row mt-3\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"row\", \"mt-3\"], [\"class\", \"col-md-4 col-sm-12 \", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\", \"col-sm-12\"], [2, \"background\", \"#f4f4f4 !important\", \"border-radius\", \"5px\"], [1, \"mb-1\"], [\"mat-raised-button\", \"\", 1, \"viewdetails\", 3, \"click\"], [1, \"text-center\"]],\n    template: function CourierGeneratePayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵelement(3, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerStart(4);\n        i0.ɵɵelementStart(5, \"mat-card\")(6, \"mat-card-content\")(7, \"mat-card\", 4)(8, \"mat-card-content\", 5)(9, \"div\", 6)(10, \"div\", 7)(11, \"div\", 6)(12, \"div\", 8)(13, \"p\", 9);\n        i0.ɵɵtext(14, \"Number of trips include in this \");\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵtext(16, \" payout\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"span\");\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(20, \"div\", 11)(21, \"div\", 6)(22, \"div\", 8)(23, \"p\", 9);\n        i0.ɵɵtext(24, \"Total cost of all \");\n        i0.ɵɵelement(25, \"br\");\n        i0.ɵɵtext(26, \" Trips\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 10)(28, \"span\");\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelement(30, \"div\", 12);\n        i0.ɵɵelementStart(31, \"div\", 13)(32, \"div\", 14)(33, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function CourierGeneratePayoutComponent_Template_button_click_33_listener() {\n          return ctx.updatePaymentStatus();\n        });\n        i0.ɵɵtext(34, \"Paid\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(35, CourierGeneratePayoutComponent_div_35_Template, 2, 1, \"div\", 16)(36, CourierGeneratePayoutComponent_div_36_Template, 3, 0, \"div\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(19);\n        i0.ɵɵtextInterpolate(ctx.totalCount);\n        i0.ɵɵadvance(10);\n        i0.ɵɵtextInterpolate1(\"\\u20B9 \", ctx.totalAmount, \"\");\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.completetripdetails == null ? null : ctx.completetripdetails.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.completetripdetails == null ? null : ctx.completetripdetails.length));\n      }\n    },\n    styles: [\".viewbtn[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\np[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: 600;\\n  line-height: 28px;\\n  margin: 0px !important;\\n}\\n\\n.viewdetails[_ngcontent-%COMP%] {\\n  background: #4348cf;\\n  border-radius: 5px;\\n  color: white;\\n  border: none;\\n  float: right;\\n}\\n\\n.payoutheading[_ngcontent-%COMP%] {\\n  margin: 0px;\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n\\n.searchbtn[_ngcontent-%COMP%] {\\n  text-align: center;\\n  margin-top: 4px;\\n}\\n\\nspan[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  font-weight: 600;\\n}\\n\\n.mat-raised-button[_ngcontent-%COMP%] {\\n  line-height: 30px !important;\\n  padding: 0 28px !important;\\n}\\n\\nmat-card.mat-card.mat-focus-indicator.my-3.m-0[_ngcontent-%COMP%] {\\n  background: #f4f4f4;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY291cmllci1nZW5lcmF0ZS1wYXlvdXQvY291cmllci1nZW5lcmF0ZS1wYXlvdXQuY29tcG9uZW50LnNjc3MiLCJ3ZWJwYWNrOi8vLi8uLi9hbG9kZWxpdmVyeSUyMHRlc3Qvc3JjL2FwcC9jb3VyaWVyLWdlbmVyYXRlLXBheW91dC9jb3VyaWVyLWdlbmVyYXRlLXBheW91dC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FDQ0Y7O0FERUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FDRUY7O0FERUE7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDQ0Y7O0FEQ0E7RUFDRSxrQkFBQTtFQUNFLGVBQUE7QUNFSjs7QURBQTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQ0dGOztBRERBO0VBQ0UsNEJBQUE7RUFDQSwwQkFBQTtBQ0lGOztBREZBO0VBQ0UsbUJBQUE7QUNLRiIsInNvdXJjZXNDb250ZW50IjpbIi52aWV3YnRuIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbnAge1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGxpbmUtaGVpZ2h0OiAyOHB4O1xyXG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxuLnZpZXdkZXRhaWxzIHtcclxuICBiYWNrZ3JvdW5kOiAjNDM0OGNmO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGZsb2F0OiByaWdodDtcclxuICAvLyBwYWRkaW5nOiA0cHggMTBweDtcclxuICAvLyBmb250LXNpemU6IDEzcHg7XHJcbn1cclxuLnBheW91dGhlYWRpbmcge1xyXG4gIG1hcmdpbjogMHB4O1xyXG4gIGZvbnQtc2l6ZTogMTRweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG59XHJcbi5zZWFyY2hidG4ge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDRweDtcclxufVxyXG5zcGFuIHtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG4ubWF0LXJhaXNlZC1idXR0b24ge1xyXG4gIGxpbmUtaGVpZ2h0OiAzMHB4ICFpbXBvcnRhbnQ7XHJcbiAgcGFkZGluZzogMCAyOHB4ICFpbXBvcnRhbnQ7XHJcbn1cclxubWF0LWNhcmQubWF0LWNhcmQubWF0LWZvY3VzLWluZGljYXRvci5teS0zLm0tMCB7XHJcbiAgYmFja2dyb3VuZDogI2Y0ZjRmNDtcclxufVxyXG4iLCIudmlld2J0biB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG5wIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBsaW5lLWhlaWdodDogMjhweDtcbiAgbWFyZ2luOiAwcHggIWltcG9ydGFudDtcbn1cblxuLnZpZXdkZXRhaWxzIHtcbiAgYmFja2dyb3VuZDogIzQzNDhjZjtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4ucGF5b3V0aGVhZGluZyB7XG4gIG1hcmdpbjogMHB4O1xuICBmb250LXNpemU6IDE0cHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG5cbi5zZWFyY2hidG4ge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDRweDtcbn1cblxuc3BhbiB7XG4gIGZvbnQtc2l6ZTogMTRweDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLm1hdC1yYWlzZWQtYnV0dG9uIHtcbiAgbGluZS1oZWlnaHQ6IDMwcHggIWltcG9ydGFudDtcbiAgcGFkZGluZzogMCAyOHB4ICFpbXBvcnRhbnQ7XG59XG5cbm1hdC1jYXJkLm1hdC1jYXJkLm1hdC1mb2N1cy1pbmRpY2F0b3IubXktMy5tLTAge1xuICBiYWNrZ3JvdW5kOiAjZjRmNGY0O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["ApiServiceService","Router","ActivatedRoute","FormBuilder","Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CourierGeneratePayoutComponent_div_35_div_1_Template_button_click_22_listener","restoredCtx","ɵɵrestoreView","_r6","items_r3","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","moredetails","ɵɵelement","ɵɵadvance","ɵɵtextInterpolate1","orderCode","deliveryType","ɵɵtextInterpolate2","ɵɵpipeBind2","deliveredAt","selectedPackage","ɵɵtemplate","CourierGeneratePayoutComponent_div_35_div_1_Template","ɵɵproperty","ctx_r0","completetripdetails","CourierGeneratePayoutComponent","constructor","apiService","router","activatedRoute","formBuilder","totalCount","tripidarray","paid","searchtripDateForm","group","fromdate","required","todate","ngOnInit","params","subscribe","id","userId","localStorage","getItem","JSON","parse","getCompletedTripList","paymentMode","paymentStatus","fromDate","controls","value","toDate","then","res","data","console","log","i","items","_id","push","totalAmount","reduce","accumulator","currentItem","amountDetails","finalAmount","length","catch","err","navigate","updatePaymentStatus","payload","orderIds","noOfOrders","paidById","receivedById","response","paymentstatus","code","_","ɵɵdirectiveInject","i1","i2","i3","_2","selectors","decls","vars","consts","template","CourierGeneratePayoutComponent_Template","rf","ctx","ɵɵelementContainerStart","CourierGeneratePayoutComponent_Template_button_click_33_listener","CourierGeneratePayoutComponent_div_35_Template","CourierGeneratePayoutComponent_div_36_Template","ɵɵelementContainerEnd","ɵɵtextInterpolate"],"sources":["D:\\alodelivery test\\src\\app\\courier-generate-payout\\courier-generate-payout.component.ts","D:\\alodelivery test\\src\\app\\courier-generate-payout\\courier-generate-payout.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiServiceService } from '../service/api-service.service';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-courier-generate-payout',\r\n  templateUrl: './courier-generate-payout.component.html',\r\n  styleUrls: ['./courier-generate-payout.component.scss'],\r\n})\r\nexport class CourierGeneratePayoutComponent implements OnInit {\r\n  deliveryman: any;\r\n  completetripdetails: any;\r\n  courierId: any;\r\n  id: any;\r\n  paymentMode: any;\r\n  paymentStatus: any;\r\n  fromDate: any;\r\n  toDate: any;\r\n  searchtripDateForm: any;\r\n  totalCount: any = 0;\r\n  name: any;\r\n  totalAmount: any;\r\n  paymentstatus: any;\r\n  _id: any;\r\n  tripidarray: any =[];\r\n  userId: any;\r\n  paid:boolean=false;\r\n  constructor(\r\n    private apiService: ApiServiceService,\r\n    private router: Router,\r\n    private activatedRoute: ActivatedRoute,\r\n    private formBuilder: FormBuilder\r\n  ) {\r\n    this.searchtripDateForm = this.formBuilder.group({\r\n      fromdate: ['', [Validators.required]],\r\n      todate: ['', [Validators.required]],\r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.activatedRoute.params.subscribe((params) => {\r\n      this.id = params.id;\r\n    });\r\n    this.userId = localStorage.getItem('useridA')\r\n      ? JSON.parse(localStorage.getItem('useridA') || '')\r\n      : '';\r\n    this.getCompletedTripList();\r\n  }\r\n\r\n  getCompletedTripList() {\r\n    this.paymentMode = 'cash on delivery,cash on pickup';\r\n    this.paymentStatus = 'CODcompleted,COPcompleted';\r\n    this.fromDate = this.searchtripDateForm.controls['fromdate'].value;\r\n    this.toDate = this.searchtripDateForm.controls['todate'].value;\r\n    // console.log(this.fromDate);\r\n    // console.log(this.toDate);\r\n    this.apiService\r\n      .getCompletedTripList(\r\n        this.id,\r\n        this.paymentMode,\r\n        this.paymentStatus,\r\n        this.fromDate,\r\n        this.toDate\r\n      )\r\n      .then((res) => {\r\n        this.completetripdetails = res?.data?.data ? res.data.data : [];\r\n        this.totalCount = res.data.totalCount;\r\n        console.log(res.data.data);\r\n\r\n        for (let i of res.data.data) {\r\n          var items = i._id;\r\n          this.tripidarray.push(items);\r\n        }\r\n        console.log(this.tripidarray);\r\n        this.totalAmount = this.completetripdetails.reduce(\r\n          (accumulator, currentItem) => {\r\n            return accumulator + currentItem.amountDetails.finalAmount;\r\n          },\r\n          0\r\n        );\r\n        console.log(this.totalAmount);\r\n        console.log(this.completetripdetails?.length);\r\n      })\r\n      .catch((err) => {});\r\n  }\r\n\r\n  moredetails(i: any) {\r\n    this.router.navigate(['/trip_details', { id: i?._id }]);\r\n  }\r\n\r\n  updatePaymentStatus() {\r\n    let payload = {\r\n      orderIds: this.tripidarray,\r\n      noOfOrders: this.totalCount,\r\n      totalAmount: this.totalAmount,\r\n      paidById: this.id,\r\n      receivedById: this.userId,\r\n      paid:true\r\n    };\r\n    \r\n    this.apiService.updatePaymentStatus(payload).subscribe((response) => {\r\n      this.paymentstatus = response.data;\r\n      console.log(this.paymentstatus);\r\n      if (response.code == 200) {\r\n        console.log('success');\r\n        this.getCompletedTripList();\r\n      } else {\r\n      }\r\n    }),\r\n      (err) => {};\r\n  }\r\n}\r\n","<div fxLayout=\"row wrap\">\r\n  <div fxFlex.gt-sm=\"100\" fxFlex=\"100\">\r\n    <div class=\"\">\r\n      <div class=\"col-lg-8\">\r\n\r\n\r\n        <!-- <mat-card>\r\n          <mat-card-content>\r\n  \r\n            <form [formGroup]=\"searchtripDateForm\">\r\n                <div class=\"row my-3\">\r\n              <label for=\"text\" class=\"text\">ENTER TRIP DATE RANGE</label>\r\n\r\n              <div class=\"col-md-6 col-lg-4 col-sm-12 mt-2 \">\r\n                <input type=\"date\" class=\"form-control\" formControlName='fromdate'>\r\n              </div>\r\n              <div class=\"col-md-6 col-lg-4 col-sm-12 mt-2 \">\r\n                <input type=\"date\" class=\"form-control\" formControlName='todate'>\r\n              </div>\r\n              <div class=\"col-md-6 col-lg-3 col-sm-12 mt-2\">\r\n                <div class=\"searchbtn \">\r\n                  <button mat-raised-button color=\"primary\" (click)=\"getCompletedTripList()\">SEARCH DATE</button>\r\n\r\n                </div>\r\n              </div>\r\n             \r\n            </div>\r\n</form>\r\n\r\n          </mat-card-content>\r\n\r\n        </mat-card> -->\r\n\r\n\r\n      </div>\r\n    </div>\r\n    <ng-container>\r\n      <mat-card>\r\n        <mat-card-content>\r\n\r\n          <mat-card class=\"my-3 m-0\">\r\n            <mat-card-content class=\" innercard p-2\">\r\n              <div class=\"row\">\r\n                <div class=\"col-sm-12 col-md-2 col-lg-3\">\r\n                  <div class=\"row \">\r\n                    <div class=\"col-6 col-md-12 col-lg-12 colheader\">\r\n                      <p class=\"payoutheading\">Number of trips include\r\n                        in this <br>\r\n                        payout</p>\r\n                    </div>\r\n                    <div class=\"col-6 col-md-12  col-lg-12 \">\r\n                      <span>{{totalCount}}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-sm-12 col-md-2 col-lg-2\">\r\n                  <div class=\" row\">\r\n                    <div class=\"col-6 col-md-12 col-lg-12 colheader\">\r\n                      <p class=\"payoutheading\">Total cost of all <br>\r\n                        Trips</p>\r\n                    </div>\r\n                    <div class=\"col-6 col-md-12 col-lg-12\">\r\n                  <span>₹ {{totalAmount}}</span>\r\n\r\n                    </div>\r\n\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-sm-12 col-md-2 col-lg-4\">\r\n                  \r\n                </div>\r\n                \r\n                <div class=\"col-sm-12 col-md-2 col-lg-3 viewbtn \">\r\n\r\n                  <div class=\" p-2\">\r\n                    <button mat-raised-button mat-flat-button color=\"primary\" class=\"view\"  (click)=\" updatePaymentStatus()\">Paid</button>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            </mat-card-content>\r\n\r\n\r\n          </mat-card>\r\n\r\n          <div class=\"row mt-3\" *ngIf=\"completetripdetails?.length\">\r\n            <div class=\"col-md-4 col-sm-12 \" *ngFor=\"let items of completetripdetails;let i=index;\">\r\n              <mat-card-content style=\"background: #f4f4f4 !important; border-radius: 5px;\">\r\n                <div class=\"mb-1\">\r\n                  <p><b>Order Code:</b> {{items?.orderCode}}</p>\r\n                  <p><b>DeliveryType:</b> {{items?.deliveryType}}</p>\r\n                  <p><b>Date & Time: </b>{{items?.deliveredAt| date:'dd-mm-yyyy'}} {{items?.deliveredAt |date:'mediumTime'}}</p>\r\n                  <!-- <p>Time: {{items?.deliveredAt |date:'mediumTime'}} </p> -->\r\n                  <p><b>Selected Package:</b> {{items?.selectedPackage}}</p>\r\n                  \r\n\r\n                </div>\r\n                <div>\r\n                  <button mat-raised-button class=\" viewdetails\" (click)=\"moredetails(items)\"> View Details</button>\r\n                </div>\r\n                <br>\r\n              </mat-card-content>\r\n            </div>\r\n\r\n            \r\n          </div>\r\n          <div *ngIf=\"!completetripdetails?.length\">\r\n          <div class=\"text-center\"> No Data Found</div>\r\n          </div>\r\n        </mat-card-content>\r\n      </mat-card>\r\n\r\n    </ng-container>\r\n  </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}