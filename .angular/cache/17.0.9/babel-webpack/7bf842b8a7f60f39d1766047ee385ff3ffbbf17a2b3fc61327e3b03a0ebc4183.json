{"ast":null,"code":"import * as $array from \"./Array\";\nimport * as $log from \"./Log\";\nvar Native = /** @class */function () {\n  function Native() {\n    var _this = this;\n    this._targets = [];\n    this._observer = new ResizeObserver(function (entries) {\n      $array.each(entries, function (entry) {\n        $array.each(_this._targets, function (x) {\n          if (x.target === entry.target) {\n            x.callback();\n          }\n        });\n      });\n    });\n  }\n  Native.prototype.addTarget = function (target, callback) {\n    this._observer.observe(target, {\n      box: \"content-box\"\n    });\n    this._targets.push({\n      target: target,\n      callback: callback\n    });\n  };\n  Native.prototype.removeTarget = function (target) {\n    this._observer.unobserve(target);\n    $array.keepIf(this._targets, function (x) {\n      return x.target !== target;\n    });\n  };\n  return Native;\n}();\nvar Raf = /** @class */function () {\n  function Raf() {\n    this._targets = [];\n  }\n  Raf.prototype.addTarget = function (target, callback) {\n    var _this = this;\n    if (this._targets.length === 0) {\n      var lastTime_1 = null;\n      var loop_1 = function () {\n        var currentTime = Date.now();\n        if (lastTime_1 === null || currentTime > lastTime_1 + Raf.delay) {\n          lastTime_1 = currentTime;\n          $array.each(_this._targets, function (x) {\n            var newSize = x.target.getBoundingClientRect();\n            if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\n              x.size = newSize;\n              x.callback();\n            }\n          });\n        }\n        _this._timer = requestAnimationFrame(loop_1);\n      };\n      this._timer = requestAnimationFrame(loop_1);\n    }\n    var size = target.getBoundingClientRect();\n    this._targets.push({\n      target: target,\n      callback: callback,\n      size: size\n    });\n  };\n  Raf.prototype.removeTarget = function (target) {\n    $array.keepIf(this._targets, function (x) {\n      return x.target !== target;\n    });\n    if (this._targets.length === 0) {\n      cancelAnimationFrame(this._timer);\n    }\n  };\n  Raf.delay = 200;\n  return Raf;\n}();\nvar observer = null;\nfunction makeSensor() {\n  if (observer === null) {\n    if (typeof ResizeObserver !== \"undefined\") {\n      observer = new Native();\n    } else {\n      observer = new Raf();\n    }\n  }\n  return observer;\n}\nvar ResizeSensor = /** @class */function () {\n  function ResizeSensor(element, callback) {\n    this._disposed = false;\n    this._sensor = makeSensor();\n    this._element = element;\n    this._sensor.addTarget(element, callback);\n  }\n  ResizeSensor.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n  ResizeSensor.prototype.dispose = function () {\n    if (!this._disposed) {\n      this._disposed = true;\n      this._sensor.removeTarget(this._element);\n    }\n  };\n  Object.defineProperty(ResizeSensor.prototype, \"sensor\", {\n    get: function () {\n      return this._sensor;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\r\n   * Deprecated: do not use.\r\n   *\r\n   * @ignore Exclude from docs\r\n   */\n  ResizeSensor.prototype.reset = function () {\n    $log.warn(\"resizeSensor.reset() is no longer needed and can be removed\");\n  };\n  return ResizeSensor;\n}();\nexport { ResizeSensor };","map":{"version":3,"names":["$array","$log","Native","_this","_targets","_observer","ResizeObserver","entries","each","entry","x","target","callback","prototype","addTarget","observe","box","push","removeTarget","unobserve","keepIf","Raf","length","lastTime_1","loop_1","currentTime","Date","now","delay","newSize","getBoundingClientRect","width","size","height","_timer","requestAnimationFrame","cancelAnimationFrame","observer","makeSensor","ResizeSensor","element","_disposed","_sensor","_element","isDisposed","dispose","Object","defineProperty","get","enumerable","configurable","reset","warn"],"sources":["D:/alodelivery test/node_modules/@amcharts/amcharts4/.internal/core/utils/ResizeSensor.js"],"sourcesContent":["import * as $array from \"./Array\";\r\nimport * as $log from \"./Log\";\r\nvar Native = /** @class */ (function () {\r\n    function Native() {\r\n        var _this = this;\r\n        this._targets = [];\r\n        this._observer = new ResizeObserver(function (entries) {\r\n            $array.each(entries, function (entry) {\r\n                $array.each(_this._targets, function (x) {\r\n                    if (x.target === entry.target) {\r\n                        x.callback();\r\n                    }\r\n                });\r\n            });\r\n        });\r\n    }\r\n    Native.prototype.addTarget = function (target, callback) {\r\n        this._observer.observe(target, { box: \"content-box\" });\r\n        this._targets.push({ target: target, callback: callback });\r\n    };\r\n    Native.prototype.removeTarget = function (target) {\r\n        this._observer.unobserve(target);\r\n        $array.keepIf(this._targets, function (x) {\r\n            return x.target !== target;\r\n        });\r\n    };\r\n    return Native;\r\n}());\r\nvar Raf = /** @class */ (function () {\r\n    function Raf() {\r\n        this._targets = [];\r\n    }\r\n    Raf.prototype.addTarget = function (target, callback) {\r\n        var _this = this;\r\n        if (this._targets.length === 0) {\r\n            var lastTime_1 = null;\r\n            var loop_1 = function () {\r\n                var currentTime = Date.now();\r\n                if (lastTime_1 === null || currentTime > (lastTime_1 + Raf.delay)) {\r\n                    lastTime_1 = currentTime;\r\n                    $array.each(_this._targets, function (x) {\r\n                        var newSize = x.target.getBoundingClientRect();\r\n                        if (newSize.width !== x.size.width || newSize.height !== x.size.height) {\r\n                            x.size = newSize;\r\n                            x.callback();\r\n                        }\r\n                    });\r\n                }\r\n                _this._timer = requestAnimationFrame(loop_1);\r\n            };\r\n            this._timer = requestAnimationFrame(loop_1);\r\n        }\r\n        var size = target.getBoundingClientRect();\r\n        this._targets.push({ target: target, callback: callback, size: size });\r\n    };\r\n    Raf.prototype.removeTarget = function (target) {\r\n        $array.keepIf(this._targets, function (x) {\r\n            return x.target !== target;\r\n        });\r\n        if (this._targets.length === 0) {\r\n            cancelAnimationFrame(this._timer);\r\n        }\r\n    };\r\n    Raf.delay = 200;\r\n    return Raf;\r\n}());\r\nvar observer = null;\r\nfunction makeSensor() {\r\n    if (observer === null) {\r\n        if (typeof ResizeObserver !== \"undefined\") {\r\n            observer = new Native();\r\n        }\r\n        else {\r\n            observer = new Raf();\r\n        }\r\n    }\r\n    return observer;\r\n}\r\nvar ResizeSensor = /** @class */ (function () {\r\n    function ResizeSensor(element, callback) {\r\n        this._disposed = false;\r\n        this._sensor = makeSensor();\r\n        this._element = element;\r\n        this._sensor.addTarget(element, callback);\r\n    }\r\n    ResizeSensor.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    ResizeSensor.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._sensor.removeTarget(this._element);\r\n        }\r\n    };\r\n    Object.defineProperty(ResizeSensor.prototype, \"sensor\", {\r\n        get: function () {\r\n            return this._sensor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Deprecated: do not use.\r\n     *\r\n     * @ignore Exclude from docs\r\n     */\r\n    ResizeSensor.prototype.reset = function () {\r\n        $log.warn(\"resizeSensor.reset() is no longer needed and can be removed\");\r\n    };\r\n    return ResizeSensor;\r\n}());\r\nexport { ResizeSensor };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}