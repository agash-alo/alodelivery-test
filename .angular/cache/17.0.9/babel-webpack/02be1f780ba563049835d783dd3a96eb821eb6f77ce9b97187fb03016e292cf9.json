{"ast":null,"code":"import { ApiServiceService } from '../service/api-service.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/api-service.service\";\nfunction MapComponent_agm_marker_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"agm-marker\", 3);\n    i0.ɵɵlistener(\"markerClick\", function MapComponent_agm_marker_2_Template_agm_marker_markerClick_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const m_r1 = restoredCtx.$implicit;\n      const i_r2 = restoredCtx.index;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.clickedMarker(m_r1.label, i_r2));\n    })(\"dragEnd\", function MapComponent_agm_marker_2_Template_agm_marker_dragEnd_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const m_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.markerDragEnd(m_r1, $event));\n    });\n    i0.ɵɵelementStart(1, \"agm-info-window\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"strong\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const m_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"latitude\", m_r1.primaryAddress == null ? null : m_r1.primaryAddress.latitude)(\"longitude\", m_r1 == null ? null : m_r1.primaryAddress == null ? null : m_r1.primaryAddress.longitude);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(m_r1.mobileNo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(m_r1.name);\n  }\n}\nexport class MapComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.title = 'AGM project';\n    this.zoom = 8;\n    // initial center position for the map\n    this.lat = 13.067439;\n    this.lng = 80.237617;\n  }\n  ngOnInit() {\n    this.getListAllActiveDeliveryMan();\n  }\n  getListAllActiveDeliveryMan() {\n    this.apiService.getListAllActiveDeliveryMan().then(res => {\n      this.markers = res.data ? res?.data : '';\n      console.log(this.tripDetails, \"iiiiiiiii\");\n      // this.latitude = this.tripDetails?.primaryAddress?.latitude;\n      // this.longitude = this.tripDetails?.primaryAddress?.longitude;\n      // console.log(this.latitude, \"larrrrrrrrrrr\");\n      // console.log(this.longitude, \"longggggggggg\");\n    }).catch(err => {});\n  }\n  // markerDragEnd($event: MouseEvent) {\n  //   console.log(\"lllllllllllllllll\", $event);\n  //   this.latitude = $event.coords.pickuplat;\n  //   this.longitude = $event.coords.pickuplong;\n  // this.getListAllActiveDeliveryMan(this.latitude, this.longitude);\n  // }\n  clickedMarker(label, index) {\n    console.log(`clicked the marker: ${label || index}`);\n  }\n  mapClicked($event) {\n    // this.markers.push({\n    //   lat: $event.coords.lat,\n    //   lng: $event.coords.lng,\n    //   draggable: true\n    // });\n  }\n  markerDragEnd(m, $event) {\n    console.log('dragEnd', m, $event);\n  }\n  static #_ = this.ɵfac = function MapComponent_Factory(t) {\n    return new (t || MapComponent)(i0.ɵɵdirectiveInject(i1.ApiServiceService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MapComponent,\n    selectors: [[\"app-map\"]],\n    decls: 3,\n    vars: 6,\n    consts: [[1, \"container\", \"p-0\", \"mt-2\"], [3, \"latitude\", \"longitude\", \"zoom\", \"disableDefaultUI\", \"zoomControl\"], [3, \"latitude\", \"longitude\", \"markerClick\", \"dragEnd\", 4, \"ngFor\", \"ngForOf\"], [3, \"latitude\", \"longitude\", \"markerClick\", \"dragEnd\"]],\n    template: function MapComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"agm-map\", 1);\n        i0.ɵɵtemplate(2, MapComponent_agm_marker_2_Template, 8, 4, \"agm-marker\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"latitude\", ctx.lat)(\"longitude\", ctx.lng)(\"zoom\", ctx.zoom)(\"disableDefaultUI\", false)(\"zoomControl\", false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.markers);\n      }\n    },\n    styles: [\"agm-map[_ngcontent-%COMP%] {\\n  height: 500px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbWFwL21hcC5jb21wb25lbnQuc2NzcyIsIndlYnBhY2s6Ly8uLy4uL2Fsb2RlbGl2ZXJ5JTIwdGVzdC9zcmMvYXBwL21hcC9tYXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0FDQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJhZ20tbWFwIHtcclxuICBoZWlnaHQ6IDUwMHB4O1xyXG59IiwiYWdtLW1hcCB7XG4gIGhlaWdodDogNTAwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["ApiServiceService","i0","ɵɵelementStart","ɵɵlistener","MapComponent_agm_marker_2_Template_agm_marker_markerClick_0_listener","restoredCtx","ɵɵrestoreView","_r4","m_r1","$implicit","i_r2","index","ctx_r3","ɵɵnextContext","ɵɵresetView","clickedMarker","label","MapComponent_agm_marker_2_Template_agm_marker_dragEnd_0_listener","$event","ctx_r5","markerDragEnd","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵproperty","primaryAddress","latitude","longitude","ɵɵadvance","ɵɵtextInterpolate","mobileNo","name","MapComponent","constructor","apiService","title","zoom","lat","lng","ngOnInit","getListAllActiveDeliveryMan","then","res","markers","data","console","log","tripDetails","catch","err","mapClicked","m","_","ɵɵdirectiveInject","i1","_2","selectors","decls","vars","consts","template","MapComponent_Template","rf","ctx","ɵɵtemplate","MapComponent_agm_marker_2_Template"],"sources":["D:\\alodelivery test\\src\\app\\map\\map.component.ts","D:\\alodelivery test\\src\\app\\map\\map.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ApiServiceService } from '../service/api-service.service';\r\nimport { AgmCoreModule } from '@agm/core';\r\n@Component({\r\n  selector: 'app-map',\r\n  templateUrl: './map.component.html',\r\n  styleUrls: ['./map.component.scss']\r\n})\r\nexport class MapComponent implements OnInit {\r\n  tripDetails: any;\r\n\r\n  title: string = 'AGM project';\r\n  zoom: number = 8;\r\n\r\n  // initial center position for the map\r\n  lat: number = 13.067439;\r\n  lng: number = 80.237617;\r\n  markers: any;\r\n  constructor(private apiService: ApiServiceService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getListAllActiveDeliveryMan();\r\n  }\r\n\r\n\r\n  getListAllActiveDeliveryMan() {\r\n    this.apiService\r\n      .getListAllActiveDeliveryMan()\r\n      .then((res) => {\r\n        this.markers = res.data ? res?.data : '';\r\n        console.log(this.tripDetails, \"iiiiiiiii\");\r\n        // this.latitude = this.tripDetails?.primaryAddress?.latitude;\r\n        // this.longitude = this.tripDetails?.primaryAddress?.longitude;\r\n        // console.log(this.latitude, \"larrrrrrrrrrr\");\r\n        // console.log(this.longitude, \"longggggggggg\");\r\n\r\n      })\r\n      .catch((err) => { });\r\n  }\r\n\r\n  // markerDragEnd($event: MouseEvent) {\r\n  //   console.log(\"lllllllllllllllll\", $event);\r\n  //   this.latitude = $event.coords.pickuplat;\r\n  //   this.longitude = $event.coords.pickuplong;\r\n  // this.getListAllActiveDeliveryMan(this.latitude, this.longitude);\r\n  // }\r\n\r\n  clickedMarker(label: string, index: number) {\r\n    console.log(`clicked the marker: ${label || index}`)\r\n  }\r\n\r\n  mapClicked($event: MouseEvent) {\r\n    // this.markers.push({\r\n    //   lat: $event.coords.lat,\r\n    //   lng: $event.coords.lng,\r\n    //   draggable: true\r\n    // });\r\n  }\r\n\r\n  markerDragEnd(m: any, $event: MouseEvent) {\r\n    console.log('dragEnd', m, $event);\r\n  }\r\n}\r\n","<div class=\"container p-0 mt-2\">\r\n\r\n  <!-- <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\" [disableDefaultUI]=\"false\" [zoomControl]=\"false\"\r\n    (mapClick)=\"mapClicked($event)\">\r\n\r\n    <agm-marker *ngFor=\"let m of markers; let i = index\" (markerClick)=\"clickedMarker(m.label, i)\" [latitude]=\"m.lat\"\r\n      [longitude]=\"m.lng\" [label]=\"m.label\" [markerDraggable]=\"m.draggable\" (dragEnd)=\"markerDragEnd(m, $event)\">\r\n\r\n      <agm-info-window>\r\n        <strong>InfoWindow content</strong>\r\n      </agm-info-window>\r\n\r\n    </agm-marker>\r\n\r\n    <agm-circle [latitude]=\"lat + 0.3\" [longitude]=\"lng\" [radius]=\"5000\" [fillColor]=\"'red'\" [circleDraggable]=\"true\"\r\n      [editable]=\"true\">\r\n    </agm-circle>\r\n\r\n  </agm-map> -->\r\n  <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\" [disableDefaultUI]=\"false\" [zoomControl]=\"false\">\r\n\r\n    <agm-marker *ngFor=\"let m of markers; let i = index\" [latitude]=\"m.primaryAddress?.latitude\"\r\n      [longitude]=\"m?.primaryAddress?.longitude\" (markerClick)=\"clickedMarker(m.label, i)\"\r\n      (dragEnd)=\"markerDragEnd(m, $event)\">\r\n\r\n      <agm-info-window>\r\n        <strong>{{m.mobileNo}}</strong><br>\r\n        <strong>{{m.name}}</strong><br>\r\n      </agm-info-window>\r\n\r\n    </agm-marker>\r\n\r\n    <!-- <agm-circle [latitude]=\"lat + 0.3\" [longitude]=\"lng\" \r\n        [radius]=\"5000\"\r\n        [fillColor]=\"'red'\"\r\n        [circleDraggable]=\"true\"\r\n        [editable]=\"true\">\r\n    </agm-circle> -->\r\n\r\n  </agm-map>\r\n\r\n\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}